#!/usr/bin/env bash
# a script to start my favorite terminal emulator

version=4
args=( )
execute=
name=

usage () {
  echo "Usage: ${0##*/} [-x] [-n name] [-E arg] [-e args ...]"
  echo "       ${0##*/} -h"
  echo "       ${0##*/} -v"
}

while getopts e:E:fhn:t:vx opt; do
  case $opt in
    h) usage; exit;;
    v) echo "term -- Version $version (wrapping alacritty)"; exit;;
    x) set -x;;
    e) execute=1; args=("${args[@]}" "$OPTARG" "${@:$OPTIND}"); shift $#;;
    E) execute=1; args=("${args[@]}" $OPTARG);;
    n) name=$OPTARG;;
    *) usage >&2; exit 2;;
  esac
done

exec alacritty ${name:+--class "$name"} ${args:+-e} "${args[@]}"
